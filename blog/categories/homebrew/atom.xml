<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: homebrew | @znz blog]]></title>
  <link href="http://blog.n-z.jp/blog/categories/homebrew/atom.xml" rel="self"/>
  <link href="http://blog.n-z.jp/"/>
  <updated>2018-01-28T23:38:36+09:00</updated>
  <id>http://blog.n-z.jp/</id>
  <author>
    <name><![CDATA[Kazuhiro NISHIYAMA]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Homebrew-Caskã§LibreOfficeã®æ—¥æœ¬èªç‰ˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«]]></title>
    <link href="http://blog.n-z.jp/blog/2018-01-23-homebrew-libreoffice.html"/>
    <updated>2018-01-23T21:55:18+09:00</updated>
    <id>http://blog.n-z.jp/blog/homebrew-libreoffice</id>
    <content type="html"><![CDATA[<p>Homebrew-Cask ã§ LibreOffice ãŒæ—¥æœ¬èªè¨³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚‚å«ã‚ã¦ç°¡å˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚</p>

<!--more-->


<h2>ãƒãƒ¼ã‚¸ãƒ§ãƒ³</h2>

<ul>
<li>macOS Sierra 10.12.6</li>
<li>Homebrew 1.5.1</li>
<li>Homebrew-Cask 1.5.1</li>
</ul>


<h2>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•</h2>

<p>macOS ã‚’æ—¥æœ¬èªç’°å¢ƒã§ä½¿ã£ã¦ã„ã‚Œã° <code>brew cask install libreoffice-language-pack</code> ã§ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹ <code>libreoffice</code> ã¨ä¸€ç·’ã«å…¥ã‚Šã¾ã™ã€‚</p>

<p><a href="https://github.com/caskroom/homebrew-cask/blob/master/doc/cask_language_reference/stanzas/language.md">https://github.com/caskroom/homebrew-cask/blob/master/doc/cask_language_reference/stanzas/language.md</a> ã«æ›¸ã„ã¦ã‚ã‚‹ã‚ˆã†ã« <code>brew cask install libreoffice-language-pack --language=ja</code> ã§æ˜ç¤ºçš„ã«æ—¥æœ¬èªã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</p>

<h2>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒé…ã„å ´åˆ</h2>

<p>æ—¥æœ¬ã®ãƒŸãƒ©ãƒ¼ã®ã²ã¨ã¤ã® <a href="http://www.ftp.ne.jp/">http://www.ftp.ne.jp/</a> ãŒã€Œ <strong>(2017/12/21)</strong> <em>ftp-srv2 is down currently</em>, because the network equipment for ftp-srv2 has been broken from 2017/12/19. In addition, ftp is too heavy load. Please use the other sites for archive downloads. We are trying to replace the network equipment.ã€ã¨æ›¸ã„ã¦ã‚ã‚‹ã‚ˆã†ã«éå¸¸ã«é‡ã„ã®ã§ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒéå¸¸ã«é…ã„å ´åˆãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
ãã®å ´åˆã¯ã€å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰æ‰‹å‹•ã§ãƒŸãƒ©ãƒ¼ã‚’é¸æŠã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ <code>LibreOffice_5.4.4_MacOS_x86-64.dmg</code> ã‚’ <code>~/Library/Caches/Homebrew/Cask/libreoffice--5.4.4.dmg</code> ã«ãŠãã¾ã™ã€‚
Cache ã«ç½®ãæ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’ä¸­æ–­ã—ãŸã‚‰ <code>~/Library/Caches/Homebrew/Cask/libreoffice--5.4.4.dmg.incomplete</code> ãŒã‚ã‚‹ã¯ãšãªã®ã§ <code>.incomplete</code> ã‚’å‰Šã£ãŸãƒ•ã‚¡ã‚¤ãƒ«åã«ã—ã¾ã™ã€‚
ãã®ä¸Šã§ <code>brew cask install</code> ã‚’å†åº¦å®Ÿè¡Œã™ã‚‹ã¨ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½¿ã‚ã‚Œã¾ã™ã€‚</p>

<h2>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—æ–¹æ³•</h2>

<p><a href="/blog/2017-04-27-homebrew-upgrade-cleanup.html">homebrewã®æ›´æ–°ã¯brew upgrade &ndash;cleanupã ã‘ã§ã‚ˆããªã£ã¦ã„ã‚‹</a>ã«æ›¸ã„ãŸã‚ˆã†ã« <code>brew upgrade --cleanup</code> ãªã©ã§ Homebrew ã®æ›´æ–°ã‚’ã—ãŸä¸Šã§ã€ <code>brew cask reinstall libreoffice</code> ã§ LibreOffice è‡ªä½“ã‚’æ›´æ–°ã—ã¦ (è‹±èªã«ä¸€æ™‚çš„ã«æˆ»ã£ã¦)ã€ <code>brew cask reinstall libreoffice-language-pack</code> ã§å†åº¦æ—¥æœ¬èªã«ã—ã¾ã™ã€‚
<code>brew cask reinstall libreoffice libreoffice-language-pack</code> ã§ã¾ã¨ã‚ã¦æ›´æ–°ã‚‚ã§ãã¾ã™ã€‚</p>

<h2>ã¾ã¨ã‚</h2>

<p>ä»¥å‰ã¯ LibreOffice æœ¬ä½“ã¯ cask ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¦ã‚‚ã€æ—¥æœ¬èªã§ä½¿ãŠã†ã¨ã™ã‚‹ã¨åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸãŒã€ã„ã¤ã®é–“ã«ã‹ homebrew-cask ãŒå¤šè¨€èªå¯¾å¿œã—ã¦ã„ã¦ã€ Firefox ã‚„ Thunderbird ã¯è‡ªå‹•ã§æ—¥æœ¬èªãŒã€LibreOffice ã®å ´åˆã¯ LibreOffice è‡ªä½“ã®é…å¸ƒãŒã‚ã‹ã‚Œã¦ã„ã‚‹ã®ã§ã€ <code>libreoffice-language-pack</code> ã‚’åˆ¥é€”å…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ã‚³ãƒãƒ³ãƒ‰1,2å€‹ã§ç°¡å˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[homebrewã®æ›´æ–°ã¯brew upgrade --cleanupã ã‘ã§ã‚ˆããªã£ã¦ã„ã‚‹]]></title>
    <link href="http://blog.n-z.jp/blog/2017-04-27-homebrew-upgrade-cleanup.html"/>
    <updated>2017-04-27T20:00:48+09:00</updated>
    <id>http://blog.n-z.jp/blog/homebrew-upgrade-cleanup</id>
    <content type="html"><![CDATA[<p>Homebrew ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°ã«æ˜”ã¯ <code>brew update</code>; <code>brew upgrade</code>; <code>brew cleanup</code> ã¨ 3 ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã„ã¾ã—ãŸãŒã€ä»Šã¯ <code>brew upgrade --cleanup</code> ã ã‘ã§ã‚ˆããªã£ã¦ã„ã¾ã™ã€‚</p>

<!--more-->


<h2>ç¢ºèªãƒãƒ¼ã‚¸ãƒ§ãƒ³</h2>

<ul>
<li>Homebrew 1.1.13</li>
</ul>


<h2><code>brew update</code></h2>

<p>Debian ç³»ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ <code>apt</code> ã® <code>sudo apt-get update</code> ã«ç›¸å½“ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æƒ…å ±ã‚’æ›´æ–°ã™ã‚‹ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚
åŸºæœ¬çš„ã«ã¯ <code>git</code> ã§æ›´æ–°ã—ã¦ã„ã‚‹ã ã‘ãªã®ã§ã€ã“ã‘ãŸã‚‰ <code>git</code> ã‚³ãƒãƒ³ãƒ‰ã‚’ç›´æ¥ä½¿ã£ã¦ãªãŠã™å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚</p>

<p>ä»Šã¯ä»–ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸæ™‚ã«æƒ…å ±ãŒå¤ã‘ã‚Œã°è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã‚‹ã®ã§ä¸è¦ã«ãªã£ã¦ã„ã¾ã™ã€‚</p>

<h2><code>brew upgrade</code></h2>

<p>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</p>

<p>å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚æ®‹ã‚‹ã®ã§ã€ <code>gem update</code> ã«è¿‘ã„ã‚ˆã†ãªæ°—ãŒã—ã¾ã™ã€‚</p>

<h2><code>brew cleanup</code></h2>

<p>å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ¶ˆã—ãŸã‚Šã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ¶ˆã—ãŸã‚Šã—ã¾ã™ã€‚</p>

<p><code>brew upgrade --cleanup</code> ã®ã‚ˆã†ã« <code>upgrade</code> ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã« <code>--cleanup</code> ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã¨ <code>upgrade</code> ä¸­ã«å‰Šé™¤ã—ã¦ãã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚
(ä¾‹ãˆã° 2 å€‹æ›´æ–°ãŒã‚ã£ãŸæ™‚ã«ã€æ›´æ–°ã€å‰Šé™¤ã€æ›´æ–°ã€å‰Šé™¤ã«ãªã‚‹ã€‚)</p>

<p>å¾Œã‹ã‚‰ <code>brew cleanup</code> ã™ã‚‹ã®ã¨é•ã£ã¦ <code>upgrade</code> ä¸­ã«å‰Šé™¤ã—ã¦ãã‚Œã‚‹ã®ã§ã€ä½•ãŒå‰Šé™¤ã•ã‚ŒãŸã®ã‹ã®ç¢ºèªã¯ã—ã«ãããªã£ãŸã‚Šã€å•é¡ŒãŒèµ·ããŸæ™‚ã«æˆ»ã—ã«ãããªã£ãŸã‚Šã¨ã„ã†æ¬ ç‚¹ã¯ã‚ã‚Šã¾ã™ãŒã€ä¸€æ™‚çš„ã«ç©ºãå®¹é‡ãŒæ¸›ã‚‹ã®ãŒç·©ã‚„ã‹ã«ãªã£ãŸã‚Šã€æ¶ˆã—å¿˜ã‚ŒãŒãªããªã‚‹ãªã©ã®åˆ©ç‚¹ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>

<h2>ã¾ã¨ã‚</h2>

<p><code>brew update</code>; <code>brew upgrade</code>; <code>brew cleanup</code> ã¨ 3 ã‚³ãƒãƒ³ãƒ‰ã‚’é€£ç¶šã§ä½¿ã£ã¦ã„ã‚‹äººã¯ã€ <code>brew upgrade --cleanup</code> ã ã‘ã«ç½®ãæ›ãˆã‚‹ã¨ä¾¿åˆ©ã§ã™ã€‚</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[brew pin ã§ãƒã‚°ã®ã‚ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¿ã‘ã‚‹ä¾‹]]></title>
    <link href="http://blog.n-z.jp/blog/2014-05-19-brew-pin.html"/>
    <updated>2014-05-19T21:35:03+09:00</updated>
    <id>http://blog.n-z.jp/blog/brew-pin</id>
    <content type="html"><![CDATA[<p><code>graphviz version 2.38.0 (20140413.2041)</code>
ã§
<a href="http://graphviz.org/mantisbt/view.php?id=2444">label ã®å…ˆé ­ã®æ—¥æœ¬èªãŒæ¶ˆãˆã‚‹</a>
ã¨ã„ã†ãƒã‚°ã«ã¯ã¾ã£ãŸã®ã§ã€
<code>brew pin</code>
ã§ä¿®æ­£ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã‚‹ã¾ã§ã®é–“ã€
å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å›ºå®šã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
(ãƒã‚°è‡ªä½“ã¯ãƒªãƒ³ã‚¯å…ˆã‚’ã¿ã‚Œã°ã‚ã‹ã‚‹ã‚ˆã†ã«ã™ãã«ä¿®æ­£ã•ã‚ŒãŸã‚ˆã†ã§ã™ã€‚)</p>

<!--more-->


<h2>å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³</h2>

<p>ç¾åœ¨ã®æœ€æ–°ã¯</p>

<pre><code class="console">% dot -V
dot - graphviz version 2.38.0 (20140413.2041)
</code></pre>

<p>ã§ä»¥ä¸‹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã—ã¾ã—ãŸã€‚</p>

<pre><code class="console">% dot -V
dot - graphviz version 2.36.0 (20140111.2315)
</code></pre>

<h2>å¯¾è±¡ã‚³ãƒŸãƒƒãƒˆèª¿æŸ»</h2>

<p>ä»¥ä¸‹ã®ã‚ˆã†ã« 2.38.0 ã«ã‚ãŒã£ãŸã‚³ãƒŸãƒƒãƒˆã‚’æ¢ã—ã¦ã¿ã‚‹ã¨
<code>2f368f7be64a5b4a6b56b4ab85827997fa520953</code>
ã ã£ãŸã®ã§ã€ã“ã®å‰ã«æˆ»ã›ã°è‰¯ã„ã¨ã‚ã‹ã‚Šã¾ã—ãŸã€‚</p>

<pre><code class="console">% cd $(brew --prefix)
% git log -p Library/Formula/graphviz.rb
</code></pre>

<h2><code>brew pin</code> ã§å›ºå®š</h2>

<p>ãã—ã¦ã€ä»¥ä¸‹ã®æ‰‹é †ã§å›ºå®šã—ã¾ã—ãŸã€‚</p>

<ul>
<li><code>git checkout ã‚³ãƒŸãƒƒãƒˆ^</code> ã§ã‚³ãƒŸãƒƒãƒˆã®ç›´å‰ã«æˆ»ã™</li>
<li>å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«æˆ»ã™ã®ã§ä¸€åº¦ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</li>
<li>å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ç›´ã—</li>
<li><code>brew pin</code> ã§å›ºå®š</li>
<li><code>git checkout master</code> ã§ <code>/usr/local</code> (<code>brew --prefix</code>) ã®çŠ¶æ…‹ã‚’æˆ»ã™</li>
<li><code>brew upgrade</code> ã§å›ºå®šã•ã‚Œã¦ã„ã‚‹ã®ã‚’ç¢ºèª</li>
</ul>


<pre><code class="console">% cd $(brew --prefix)
%  git checkout 2f368f7be64a5b4a6b56b4ab85827997fa520953\^
Note: checking out '2f368f7be64a5b4a6b56b4ab85827997fa520953^'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at b8b3a30... glib-networking 2.40.1
%  lv Library/Formula/graphviz.rb
% brew uninstall graphviz
Uninstalling /usr/local/Cellar/graphviz/2.38.0...
% brew install graphviz
==&gt; Downloading https://downloads.sf.net/project/machomebrew/Bottles/graphviz-2.36.0_1.mav
Already downloaded: /Library/Caches/Homebrew/graphviz-2.36.0_1.mavericks.bottle.tar.gz
==&gt; Pouring graphviz-2.36.0_1.mavericks.bottle.tar.gz
ğŸº  /usr/local/Cellar/graphviz/2.36.0_1: 470 files, 11M
% brew pin graphviz
% git checkout master
Previous HEAD position was b8b3a30... glib-networking 2.40.1
Switched to branch 'master'
% brew upgrade
==&gt; No packages to upgrade
==&gt; Not upgrading 1 pinned package:
graphviz 2.38.0
</code></pre>

<h2><code>brew unpin</code></h2>

<p>ä¿®æ­£ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã€
Homebrew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰
<code>brew unpin graphviz</code>
ã§è§£é™¤ã™ã‚Œã°è‰¯ã•ãã†ã§ã™ã€‚</p>

<p><code>brew pin</code> ã¯
<a href="http://qiita.com/uasi/items/f06c6fe7c04b593ec6a3#comment-178ddb970a3033653648">qiita ã® Homebrew ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ä½œã£ãŸ ã®ã‚³ãƒ¡ãƒ³ãƒˆ</a>
ã«æ›¸ã„ã¦ã‚ã‚‹ã‚ˆã†ã«ã€
FORMULA æŒ‡å®šãªã—ã® <code>brew upgrade</code> ã§ã®æ›´æ–°å¯¾è±¡ã«ã—ãªã„ã¨ã„ã†æ„å‘³ã®ã‚ˆã†ãªã®ã§ã€
master ã«æˆ»ã£ãŸçŠ¶æ…‹ã§ <code>unpin</code> ã—ã¦ã—ã¾ã£ã¦ã‚‚
ãã®å ´ã§ <code>pin</code> ã—ç›´ã›ã°å¤§ä¸ˆå¤«ã®ã‚ˆã†ã§ã™ã€‚</p>

<pre><code class="console">% dot -V
dot - graphviz version 2.36.0 (20140111.2315)
% brew unpin graphviz
% brew pin graphviz
% brew upgrade
==&gt; No packages to upgrade
==&gt; Not upgrading 1 pinned package:
graphviz 2.38.0
</code></pre>

<p>ä¿®æ­£ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸæ™‚ã« <code>brew unpin</code> ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€
<code>brew upgrade</code> ã®æ™‚ã«æ¯å›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚‹ã®ã§ã€æ°—ä»˜ãã‚„ã™ãã†ã§ã™ã€‚</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[homebrew cask ã§ sylpheed test1 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸ]]></title>
    <link href="http://blog.n-z.jp/blog/2014-04-21-brew-cask-sylpheed.html"/>
    <updated>2014-04-21T23:00:00+09:00</updated>
    <id>http://blog.n-z.jp/blog/brew-cask-sylpheed</id>
    <content type="html"><![CDATA[<p><a href="http://sylpheed.sraoss.jp/ja/news.html">Sylpheed 3.4.1-test1 for Mac OS X (ãƒ†ã‚¹ãƒˆç‰ˆ)</a>
ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãŸã®ã§ã€
homebrew cask ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã¾ã—ãŸã€‚</p>

<p>dmg ã§é…å¸ƒã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ homebrew cask ã«å¯¾å¿œã•ã›ã‚‹ä¾‹ã¨ã—ã¦ã‚‚å‚è€ƒã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>

<!--more-->


<h2>homebrew cask ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>

<p><a href="http://brew.sh/">Homebre</a>
ã¨
<a href="https://github.com/phinze/homebrew-cask">homebrew-cask</a>
ã‚’ã‚ã‚‰ã‹ã˜ã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¾ã™ã€‚</p>

<h2>cask ä½œæˆ</h2>

<p><code>brew cask create sylpheed-test</code> ã§ä½œæˆã—ã¦ã€
å†…å®¹ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚</p>

<pre><code class="ruby">class SylpheedTest &lt; Cask
  url 'http://sylpheed.sraoss.jp/sylpheed/macosx/Sylpheed_3.4.1-test1.dmg'
  homepage 'http://sylpheed.sraoss.jp/'
  version '3.4.1-test1'
  sha256 '52505ab7913fd58fa921a9c8b574286f08073321b440b7aa23dba3896b4b2ddc'
  link 'Sylpheed.app'
end
</code></pre>

<p><code>sha256</code> ã¯
<a href="https://github.com/phinze/homebrew-cask/blob/master/CONTRIBUTING.md#cask-stanzas">Cask Stanzas</a>
ã®èª¬æ˜ã«ã‚ã‚‹ã‚ˆã†ã«åˆ¥é€” <code>url</code> ã«æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ <code>shasum -a 256 &lt;file&gt;</code> ã§èª¿ã¹ã¾ã—ãŸã€‚
ã‚‚ã— upstream ã®ãƒªãƒªãƒ¼ã‚¹ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã«æ›¸ã„ã¦ã‚ã‚Œã°ã€ãã‚Œã‚’ãã®ã¾ã¾ä½¿ãˆã°è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚</p>

<p>ç·¨é›†é€”ä¸­ã§é–‰ã˜ã¦ã—ã¾ã£ãŸå ´åˆã¯
<code>brew cask edit sylpheed-test</code>
ã§å†ç·¨é›†ã§ãã¾ã™ã€‚</p>

<p>å®Ÿä½“ã¯ <code>$(brew --prefix)/Library/Taps/phinze-cask/Casks/sylpheed-test.rb</code> ã«ã‚ã‚Šã¾ã™ã€‚</p>

<h2>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h2>

<p><code>sylpheed-test.rb</code> ãŒä½œæˆã§ããŸã‚‰ <code>brew cask install sylpheed-test</code> ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚</p>

<pre><code class="console">% brew cask install sylpheed-test
==&gt; Downloading http://sylpheed.sraoss.jp/sylpheed/macosx/Sylpheed_3.4.1-test1.dmg
######################################################################## 100.0%
==&gt; Symlinking App 'Sylpheed.app' to '/Users/kazu/Applications/Sylpheed.app'
ğŸº  sylpheed-test installed to '/opt/homebrew-cask/Caskroom/sylpheed-test/3.4.1-test1' (314 files, 32M)
</code></pre>

<h2>èµ·å‹•</h2>

<p>Launchpad ã‹ã‚‰èµ·å‹•ã—ãŸã‚Šã€Spotlight ã§æ¤œç´¢ã—ãŸã‚Šã—ã¦æ™®é€šã«èµ·å‹•ã—ã¾ã™ã€‚</p>

<p>åˆå›èµ·å‹•ã§
<code>~/Library/Application Support/Sylpheed/Mailboxes/Mail</code>
ã‚’ä½œã‚‹ã‹ãã‹ã‚Œã¾ã—ãŸãŒã€ãã®æ™‚ç‚¹ã§æ—¢ã«
<code>~/Library/Application Support/Sylpheed</code>
ã¯ä½œæˆã•ã‚Œã¦ã„ã¾ã—ãŸã€‚</p>

<h2>ã¾ã¨ã‚</h2>

<p>ãƒ†ã‚¹ãƒˆç‰ˆãªã®ã§ã€ã¾ã å¤‰ãªã¨ã“ã‚ã¯ã‚ã‚‹ã‚ˆã†ã§ã™ãŒ (Command+V ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ã®ãƒˆã‚°ãƒ«ã«ãªã£ã¦ãƒšãƒ¼ã‚¹ãƒˆã§ããªã„ã¨ã‹)
Mac OS X ç‰ˆç‰¹æœ‰ã®å•é¡ŒãŒã‚ã‚‹ã ã‘ã®ã‚ˆã†ãªã®ã§ã€ä»Šå¾Œã®æ­£å¼ç‰ˆã«æœŸå¾…ã—ã¦ã„ã¾ã™ã€‚</p>

<p>ã¾ã  test ç‰ˆãªã®ã§ pull request ã¯ã—ã¦ã„ãªã„ã®ã§ã™ãŒã€
æ­£å¼ç‰ˆãŒå‡ºãŸã‚‰ homebrew cask ã« pull request ã‚’é€ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
beta ç‰ˆãªã©ã‚‚å¯¾å¿œã™ã‚‹ãªã‚‰
<a href="https://github.com/caskroom/homebrew-versions">homebrew-cask-versions</a>
ã« pull request ã‚’é€ã‚‹ã¨è‰¯ã•ãã†ã§ã™ã€‚</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mavericksã§Emacs.appãŒèµ·å‹•æ™‚ã«ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãªã‚‰ãªã„]]></title>
    <link href="http://blog.n-z.jp/blog/2013-11-01-emacs-on-mavericks.html"/>
    <updated>2013-11-01T18:00:00+09:00</updated>
    <id>http://blog.n-z.jp/blog/emacs-on-mavericks</id>
    <content type="html"><![CDATA[<p>Mac OS X ã‚’ Mavericks ã«ã‚ã’ãŸã‚‰ homebrew ã§å…¥ã‚ŒãŸ
Emacs.app ã‚’èµ·å‹•ã—ãŸæ™‚ã« <code>default-directory</code>
ãŒãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ <code>/</code> ã«å¤‰ã‚ã£ã¦ã—ã¾ã£ã¦ã„ãŸã®ã§ã€
åŸå› ã‚’èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚</p>

<p>2013-11-09 è¿½è¨˜:
ç¾åœ¨ã¯ emacs ã®é–‹ç™ºç‰ˆã‹ã‚‰æŠœãå‡ºã—ãŸãƒ‘ãƒƒãƒã® pull request ãŒ homebrew ã«å–ã‚Šè¾¼ã¾ã‚Œã¦ã„ã¦ã€
å•é¡Œã¯èµ·ããªããªã£ã¦ã„ã¾ã™ã€‚</p>

<!--more-->


<h2>èª¿ã¹ãŸãã£ã‹ã‘</h2>

<p>ãã£ã‹ã‘ã¯
<a href="http://qiita.com/ksato9700/items/1ec373895b9693529f82">Mavericksã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦é­é‡ã—ãŸä¸å…·åˆã€€ã¾ã¨ã‚</a>
ã‚’è¦‹ã¦è‡ªåˆ†ã®ç’°å¢ƒã ã‘ã§èµ·ãã¦ã„ã‚‹ç¾è±¡ã§ã¯ãªã„ã¨çŸ¥ã£ãŸã‹ã‚‰ã§ã™ã€‚</p>

<h2>åŸå› </h2>

<p>Emacs ã®ã‚½ãƒ¼ã‚¹ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã§ <code>-psn</code> ã§å§‹ã¾ã‚‹å¼•æ•°ã®æœ‰ç„¡ã§
ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã™ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¦ã„ã‚‹ã®ã«ã€
Mavericks ã ã¨å¼•æ•°ãªã—ã§èµ·å‹•ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã‹ã‚‰ã®ã‚ˆã†ã§ã™ã€‚</p>

<pre><code class="c emacs-24.3/src/emacs.c"> #ifdef HAVE_NS
   ns_pool = ns_alloc_autorelease_pool ();
   if (!noninteractive)
     {
 #ifdef NS_IMPL_COCOA
       if (skip_args &lt; argc)
         {
      /* FIXME: Do the right thing if getenv returns NULL, or if
         chdir fails.  */
           if (!strncmp (argv[skip_args], "-psn", 4))
             {
               skip_args += 1;
               chdir (getenv ("HOME"));
             }
           else if (skip_args+1 &lt; argc &amp;&amp; !strncmp (argv[skip_args+1], "-psn", 4))
             {
               skip_args += 2;
               chdir (getenv ("HOME"));
             }
         }
 #endif  /* COCOA */
     }
 #endif /* HAVE_NS */
</code></pre>

<h2>çŠ¶æ³</h2>

<p>ã¡ãªã¿ã« Mac OS X 10.8.5 ã§ã¯ã€ãŸã¨ãˆã°
<code>/usr/local/Cellar/emacs/24.3/Emacs.app/Contents/MacOS/Emacs -psn_0_29637698</code>
ã®ã‚ˆã†ã«èµ·å‹•ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚</p>

<p>Qiita ã®è¨˜äº‹ã§ã¯ Dock ã‹ã‚‰èµ·å‹•ã—ãŸæ™‚ã®ã“ã¨ã‚’æ›¸ã„ã¦ã„ã¾ã™ãŒã€
<code>open -a Emacs.app</code> ã®ã‚ˆã†ã«èµ·å‹•ã—ã¦ã‚‚åŒã˜ã§ã—ãŸã€‚</p>

<p>RubyMotion ã§æœ€å°é™ã®ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¡¨ç¤ºã™ã‚‹ã ã‘ã®ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦è©¦ã—ã¦ã¿ãŸã¨ã“ã‚ã€
èµ·å‹•æ™‚ã«ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒ <code>/</code> ã«ãªã£ã¦ã„ã‚‹ã®ã¯
Cocoa ã‚¢ãƒ—ãƒªã§ã¯æ™®é€šã®å‹•ä½œã®ã‚ˆã†ã§ã—ãŸã€‚</p>

<h2>å¯¾å¿œçŠ¶æ³</h2>

<p><a href="http://osdir.com/ml/general/2013-10/msg61593.html">ML ã§ã®æƒ…å ±</a>
ã«ã‚ˆã‚‹ã¨ trunk ã«ã¯å¯¾å¿œãŒãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã§ã€
èª¿ã¹ã¦ã¿ã‚‹ã¨
revision 114730 <!-- http://bzr.savannah.gnu.org/lh/emacs/trunk/revision/114730 -->
ã¨
revision 114882 <!-- http://bzr.savannah.gnu.org/lh/emacs/trunk/revision/114882 -->
ã®ãƒ‘ãƒƒãƒã‚’ã‚ã‚ã›ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å¿œã™ã‚Œã°è‰¯ã•ãã†ã«è¦‹ãˆã¾ã—ãŸã€‚</p>

<pre><code class="diff emacs.c.diff">--- src/emacs.c.orig    2013-02-06 13:33:36.000000000 +0900
+++ src/emacs.c 2013-11-02 22:38:45.000000000 +0900
@@ -1158,10 +1158,13 @@
   if (!noninteractive)
     {
 #ifdef NS_IMPL_COCOA
+      /* Started from GUI? */
+      /* FIXME: Do the right thing if getenv returns NULL, or if
+         chdir fails.  */
+      if (! inhibit_window_system &amp;&amp; ! isatty (0))
+        chdir (getenv ("HOME"));
       if (skip_args &lt; argc)
         {
-     /* FIXME: Do the right thing if getenv returns NULL, or if
-        chdir fails.  */
           if (!strncmp (argv[skip_args], "-psn", 4))
             {
               skip_args += 1;
</code></pre>

<p>ã¨ã„ã†ã‚ã‘ã§ homebrew ã®æ–¹ã«
<a href="https://github.com/mxcl/homebrew/pull/23897">fix default-directory on Cocoa and Mavericks</a>
ã¨ã—ã¦ pull request ã‚’å‡ºã—ã¦ã¿ã¾ã—ãŸã€‚</p>
]]></content>
  </entry>
  
</feed>
