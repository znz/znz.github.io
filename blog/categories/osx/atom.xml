<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: osx | @znz blog]]></title>
  <link href="http://blog.n-z.jp/blog/categories/osx/atom.xml" rel="self"/>
  <link href="http://blog.n-z.jp/"/>
  <updated>2014-09-21T11:53:42+09:00</updated>
  <id>http://blog.n-z.jp/</id>
  <author>
    <name><![CDATA[Kazuhiro NISHIYAMA]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[第 14 回 RubyMotion もくもく会 in Osaka に参加した]]></title>
    <link href="http://blog.n-z.jp/blog/2014-08-20-rubymotion-mokumoku-osaka.html"/>
    <updated>2014-08-20T19:34:08+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubymotion-mokumoku-osaka</id>
    <content type="html"><![CDATA[<p>第 1 回から第 13 回にも参加した RubyMotion もくもく会 in Osaka の
<a href="http://rubymotionjp.connpass.com/event/7583/" title="第 14 回 RubyMotion もくもく会 in Osaka">第 14 回 RubyMotion もくもく会 in Osaka</a>
に参加してきました。
今日もみんなもくもくしていました。</p>

<p>次回の
<a href="http://rubymotionjp.connpass.com/event/8214/" title="第 15 回 RubyMotion もくもく会 in Osaka - connpass">第 15 回 RubyMotion もくもく会 in Osaka - connpass</a>
は 09/24(水) になりました。</p>

<!--more-->


<h2>メモ</h2>

<ul>
<li><a href="http://japan.unity3d.com/">http://japan.unity3d.com/</a></li>
<li><a href="http://uxosaka.com/" title="UX OSAKA | 大阪で開催される UX コミュニティ">UX OSAKA | 大阪で開催される UX コミュニティ</a></li>
<li>A Dark Room が RubyMotion 製で成功したゲームと言う話</li>
<li><a href="http://rubykaigi.org/2014/presentation/S-LaurentSansonetti" title="Inside RubyMotion for Android">Inside RubyMotion for Android</a></li>
<li>RubyMotion を再インストールしたら 2.28 になった (最新は 2.31 らしい) ので、インストーラーはライセンスの有効期限を見てどのバージョンを入れるのか決めているらしい。</li>
<li><a href="http://www.rubymotion.com/developer-center/guides/getting-started/">http://www.rubymotion.com/developer-center/guides/getting-started/</a></li>
<li><a href="http://www.raywenderlich.com/55384/ios-7-best-practices-part-1" title="iOS 7 Best Practices; A Weather App Case Study: Pt 1 - Ray Wenderlich">iOS 7 Best Practices; A Weather App Case Study: Pt 1 - Ray Wenderlich</a></li>
<li><a href="http://rubykaigi.org/2014" title="RubyKaigi 2014, 18-20 september">RubyKaigi 2014, 18-20 september</a></li>
<li><a href="http://ll.jus.or.jp/2014/" title="LL Diver | Dive into Lightweight Languages">LL Diver | Dive into Lightweight Languages</a></li>
</ul>


<h2>やっていたこと</h2>

<p>環境が変わったので RubyMotion の再インストールをしたり、来月の RubyKaigi 2014 の準備の続きをしていたりしました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[第 13 回 RubyMotion もくもく会 in Osaka に参加した]]></title>
    <link href="http://blog.n-z.jp/blog/2014-07-16-rubymotion-mokumoku-osaka.html"/>
    <updated>2014-07-16T19:33:35+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubymotion-mokumoku-osaka</id>
    <content type="html"><![CDATA[<p>第 1 回から第 12 回にも参加した RubyMotion もくもく会 in Osaka の
<a href="http://rubymotionjp.connpass.com/event/7079/">第 13 回 RubyMotion もくもく会 in Osaka</a>
に参加してきました。
今日はほぼ途中の会話はなくて、みんなでもくもくしていました。
その代わり、最後の成果発表の時は盛り上がっていました。</p>

<p>次回の
<a href="http://rubymotionjp.connpass.com/event/7583/" title="第 14 回 RubyMotion もくもく会 in Osaka">第 14 回 RubyMotion もくもく会 in Osaka</a>
は 08/20(水) になりました。</p>

<!--more-->


<h2>メモ</h2>

<ul>
<li>AppCode</li>
<li>TapTheCircle</li>
<li>motion-osx-cli</li>
<li><a href="https://speakerdeck.com/iwazer/rubymotionfalseqi-chi-tiiitokoro" title="RubyMotionの気持ちいいところ // Speaker Deck">RubyMotionの気持ちいいところ // Speaker Deck</a></li>
<li>RubyMotion + IB で参考にしたもの

<ul>
<li><a href="http://tama.hatenablog.jp/entry/2014/05/02/231633" title="RubyMotion(MacOS)でIBの作成方法 - たまたんのぶろぐ">RubyMotion(MacOS)でIBの作成方法 - たまたんのぶろぐ</a></li>
<li><a href="http://d.hatena.ne.jp/laiso+iphone/20130510/1368201914" title="RubyMotionアプリでStoryboardとIBのアウトレット+アクションを使う話 - laiso+iphone">RubyMotionアプリでStoryboardとIBのアウトレット+アクションを使う話 - laiso+iphone</a></li>
</ul>
</li>
<li><a href="https://github.com/omoon/rm-test-test">https://github.com/omoon/rm-test-test</a>

<ul>
<li>travis-ci で RubyMotion のテストも動かせるという話</li>
<li><code>bundle exec rake spec osx=true</code> にすれば OSX も動く。</li>
<li>参考: <a href="https://github.com/rubymotion/BubbleWrap/blob/master/.travis.yml">https://github.com/rubymotion/BubbleWrap/blob/master/.travis.yml</a></li>
</ul>
</li>
<li><a href="https://github.com/mattsears/nyan-cat-formatter">https://github.com/mattsears/nyan-cat-formatter</a></li>
</ul>


<h2>今日の成果</h2>

<p>情報を探してみたら <code>rake ib</code> で Interface Builder を起動すれば stub を自動生成してくれて、
ボタンクリックとアクションのひも付けができるとわかったので、
ボタンをクリックした時にメソッド呼び出しはできるようになりました。</p>

<p>しかし、 <code>ib_outlet</code> で宣言したプロパティに outlet でひも付けしたインスタンス変数が <code>nil</code> のままで悩んでいたところ、
最後に <code>outlet</code> に変えると動くようになりました。
<code>ib_outlet</code> のままでも Interface Builder で出てくるので使えるのかと勘違いしていました。</p>

<p>家に帰ってから
<code>$(find /System/Library/Frameworks -name lsregister) -kill -r -domain local -domain user</code>
で既存の起動の関連付けを削除して、
ib 版で <code>Set Default Browser</code> をやり直したところ、
まだ問題があったので、それも直して以前のものと同様に使えるところまでは出来ました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[第 12 回 RubyMotion もくもく会 in Osaka に参加した]]></title>
    <link href="http://blog.n-z.jp/blog/2014-06-20-rubymotion-mokumoku-osaka.html"/>
    <updated>2014-06-20T19:27:13+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubymotion-mokumoku-osaka</id>
    <content type="html"><![CDATA[<p>第 1 回から第 11 回にも参加した RubyMotion もくもく会 in Osaka の
<a href="http://rubymotionjp.connpass.com/event/6666/">第 12 回 RubyMotion もくもく会 in Osaka</a>
に参加してきました。</p>

<p>次回の
<a href="http://rubymotionjp.connpass.com/event/7079/">第 13 回 RubyMotion もくもく会 in Osaka</a>
は 07/16(水) になりました。</p>

<!--more-->


<h2>メモ</h2>

<ul>
<li>一周年記念</li>
<li>RubyMotion は Android にも対応予定</li>
<li>RubyMotion のライセンスが expired して更新しても <code>rake</code> のときの <code>Your maintenance plan is expired. Run 'motion account' to renew it.</code> というメッセージはキャッシュの影響で 24 時間ぐらい待たないと消えないらしいという話</li>
<li>バージョンは 2.29 が最新</li>
<li>Swift が話題</li>
<li><a href="http://tools.msng.info/">割り勘電卓</a></li>
<li><a href="https://github.com/shin1x1/vagrantx">https://github.com/shin1x1/vagrantx</a> のソース公開</li>
<li><a href="https://github.com/MacFace/MacFace/tree/v2.0">MacFace v2</a> が Swift で作り直し中</li>
</ul>


<h2>やったこと</h2>

<p>Interface Builder と <code>gem 'ib'</code> で GUI を作り直そうとしていました。</p>

<p>GUI 作成は細かいサイズを気にしなくて良い Tcl/Tk の pack 方式や
Web での bootstrap のようなやり方の方が慣れていて、
GUI ツールで作成するのは GTK+2 の glade ぐらいしかまともに使ったことがなかったので、
使い方や良い感じに配置する方法で結構悩んでいました。
悩んでいた部分は最後の成果発表の時にいろいろ教えてもらったりしました。</p>

<p>コードとの組み合わせは、検索で見つけた</p>

<pre><code>@mainWindowController = MainWindow.alloc.initWithWindowNibName('MainWindow')
@mainWindowController.window.makeKeyAndOrderFront(self)
</code></pre>

<p>という方法で window は表示できたものの、
<code>@mainWindowController.window</code> が <code>nil</code> になっていて、
<code>makeKeyAndOrderFront</code> の呼び出しは失敗していました。</p>

<p>ひとまず現状は <a href="https://github.com/znz/urltrapper/tree/ib">ib ブランチ</a> に公開しています。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[第 11 回 RubyMotion もくもく会 in Osaka に参加した]]></title>
    <link href="http://blog.n-z.jp/blog/2014-05-28-rubymotion-mokumoku-osaka.html"/>
    <updated>2014-05-28T19:38:39+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubymotion-mokumoku-osaka</id>
    <content type="html"><![CDATA[<p>第 1 回から第 10 回にも参加した RubyMotion もくもく会 in Osaka の
<a href="http://connpass.com/event/6116/">第 11 回 RubyMotion もくもく会 in Osaka</a>
に参加してきました。</p>

<p>次回の
<a href="http://connpass.com/event/6666/">第 12 回 RubyMotion もくもく会 in Osaka</a>
は 06/20(金) になりました。</p>

<!--more-->


<h2>メモ</h2>

<ul>
<li><code>gem 'ib'</code> と Auto Layout</li>
<li><a href="http://kojisatoapp.blogspot.jp/2014/03/admobnendiadadmob.html">アプリで飯を食う: AdMobメディエーションで広告(Nend,iAd,AdMob)を切り替える方法</a></li>
<li><code>usingSpringWithDamping</code></li>
<li><a href="http://vagrantmanager.com/">Vagrant Manager</a></li>
<li><a href="http://stackoverflow.com/questions/13216092/how-to-sort-a-hash-by-value-in-descending-order-and-output-a-hash-in-ruby">Hash のソート</a></li>
<li><a href="http://urltrapper.n-z.jp/">URLTrapper</a> v0.1</li>
<li><a href="https://itunes.apple.com/jp/app/kokowo-songru/id473519853?mt=8">ここを送る</a></li>
<li><a href="http://shin1x1.github.io/vagrantx/">VagrantX</a> v0.2.0</li>
<li><a href="http://macface.github.io/">MacFace</a></li>
</ul>


<h2>URLTrapper 公開</h2>

<p>今日は URLTrapper の公開作業をしていました。</p>

<p>最終的には
<a href="http://urltrapper.n-z.jp/">URLTrapper</a>
の<a href="https://github.com/znz/urltrapper">ソースコードを公開</a>して、
<a href="https://github.com/znz/urltrapper/releases/tag/v0.1">v0.1 をリリース</a>しました。</p>

<h2>Config 設定</h2>

<p>まず
<a href="http://rubymotion.jp/RubyMotionDocumentation/guides/project-management/index.html">RubyMotion Project Management Guide</a>
の 2. Configuration をみて identifier などを設定していきました。</p>

<h2>リリースファイル作成</h2>

<p><code>rake build</code> で <code>build/MacOSX-10.9-Release/*.app</code> が出来るので、
それを Finder で zip にして、
バージョン付きのファイル名にしました。</p>

<h2>リリース</h2>

<p>github の Release からリリースを作成して、
先ほどの zip ファイルをアップロードしてリリースしました。</p>

<p>途中、リリースノートにスクリーンショットをアップロードしました。
このスクリーンショットは後で GitHub Pages を作る時にも使いました。</p>

<h2>GitHub Pages 作成</h2>

<p>github の Settings から GitHub Pages にある Automatic page generator を使って作成しました。</p>

<p>自動作成されたものから、ダウンロードのリンクのところは VagrantX を参考にして、
ソースコードのダウンロードからバイナリの zip のダウンロードに書き換えました。</p>

<h2>ドメイン問題</h2>

<p><code>znz.github.io</code> は、この blog 用に使っていて、
<code>znz.github.io/urltrapper</code> を開くと
<code>blog.n-z.jp/urltrapper</code> に飛ばされてしまって
困ってしまったので、
<a href="https://github.com/znz/urltrapper/blob/gh-pages/CNAME">https://github.com/znz/urltrapper/blob/gh-pages/CNAME</a>
として個別のサブドメインを使うように設定したのですが、
すぐには反映されなくて、しばらく悩んでいました。</p>

<p>最後の成果発表のタイミングでは反映されていて見えるようになっていました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[brew pin でバグのあるバージョンを避ける例]]></title>
    <link href="http://blog.n-z.jp/blog/2014-05-19-brew-pin.html"/>
    <updated>2014-05-19T21:35:03+09:00</updated>
    <id>http://blog.n-z.jp/blog/brew-pin</id>
    <content type="html"><![CDATA[<p><code>graphviz version 2.38.0 (20140413.2041)</code>
で
<a href="http://graphviz.org/mantisbt/view.php?id=2444">label の先頭の日本語が消える</a>
というバグにはまったので、
<code>brew pin</code>
で修正されたバージョンがリリースされるまでの間、
古いバージョンに固定することにしました。
(バグ自体はリンク先をみればわかるようにすぐに修正されたようです。)</p>

<!--more-->


<h2>対象バージョン</h2>

<p>現在の最新は</p>

<pre><code class="console">% dot -V
dot - graphviz version 2.38.0 (20140413.2041)
</code></pre>

<p>で以下のバージョンに戻しました。</p>

<pre><code class="console">% dot -V
dot - graphviz version 2.36.0 (20140111.2315)
</code></pre>

<h2>対象コミット調査</h2>

<p>以下のように 2.38.0 にあがったコミットを探してみると
<code>2f368f7be64a5b4a6b56b4ab85827997fa520953</code>
だったので、この前に戻せば良いとわかりました。</p>

<pre><code class="console">% cd $(brew --prefix)
% git log -p Library/Formula/graphviz.rb
</code></pre>

<h2><code>brew pin</code> で固定</h2>

<p>そして、以下の手順で固定しました。</p>

<ul>
<li><code>git checkout コミット^</code> でコミットの直前に戻す</li>
<li>古いバージョンに戻すので一度アンインストール</li>
<li>古いバージョンでインストールし直し</li>
<li><code>brew pin</code> で固定</li>
<li><code>git checkout master</code> で <code>/usr/local</code> (<code>brew --prefix</code>) の状態を戻す</li>
<li><code>brew upgrade</code> で固定されているのを確認</li>
</ul>


<pre><code class="console">% cd $(brew --prefix)
%  git checkout 2f368f7be64a5b4a6b56b4ab85827997fa520953\^
Note: checking out '2f368f7be64a5b4a6b56b4ab85827997fa520953^'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at b8b3a30... glib-networking 2.40.1
%  lv Library/Formula/graphviz.rb
% brew uninstall graphviz
Uninstalling /usr/local/Cellar/graphviz/2.38.0...
% brew install graphviz
==&gt; Downloading https://downloads.sf.net/project/machomebrew/Bottles/graphviz-2.36.0_1.mav
Already downloaded: /Library/Caches/Homebrew/graphviz-2.36.0_1.mavericks.bottle.tar.gz
==&gt; Pouring graphviz-2.36.0_1.mavericks.bottle.tar.gz
🍺  /usr/local/Cellar/graphviz/2.36.0_1: 470 files, 11M
% brew pin graphviz
% git checkout master
Previous HEAD position was b8b3a30... glib-networking 2.40.1
Switched to branch 'master'
% brew upgrade
==&gt; No packages to upgrade
==&gt; Not upgrading 1 pinned package:
graphviz 2.38.0
</code></pre>

<h2><code>brew unpin</code></h2>

<p>修正されたバージョンがリリースされて、
Homebrew でインストールできるようになったら
<code>brew unpin graphviz</code>
で解除すれば良さそうです。</p>

<p><code>brew pin</code> は
<a href="http://qiita.com/uasi/items/f06c6fe7c04b593ec6a3#comment-178ddb970a3033653648">qiita の Homebrew でバージョンを指定してインストールするコマンド作った のコメント</a>
に書いてあるように、
FORMULA 指定なしの <code>brew upgrade</code> での更新対象にしないという意味のようなので、
master に戻った状態で <code>unpin</code> してしまっても
その場で <code>pin</code> し直せば大丈夫のようです。</p>

<pre><code class="console">% dot -V
dot - graphviz version 2.36.0 (20140111.2315)
% brew unpin graphviz
% brew pin graphviz
% brew upgrade
==&gt; No packages to upgrade
==&gt; Not upgrading 1 pinned package:
graphviz 2.38.0
</code></pre>

<p>修正されたバージョンがリリースされた時に <code>brew unpin</code> を忘れないように実行する必要がありますが、
<code>brew upgrade</code> の時に毎回メッセージが出るので、気付きやすそうです。</p>
]]></content>
  </entry>
  
</feed>
