<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ruby | @znz blog]]></title>
  <link href="http://blog.n-z.jp/blog/categories/ruby/atom.xml" rel="self"/>
  <link href="http://blog.n-z.jp/"/>
  <updated>2016-03-06T23:24:01+09:00</updated>
  <id>http://blog.n-z.jp/</id>
  <author>
    <name><![CDATA[Kazuhiro NISHIYAMA]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[第71回 Ruby関西 勉強会に参加しました]]></title>
    <link href="http://blog.n-z.jp/blog/2016-03-05-rubykansai71.html"/>
    <updated>2016-03-05T12:58:44+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubykansai71</id>
    <content type="html"><![CDATA[<p><a href="https://rubykansai.doorkeeper.jp/events/37341" title="第71回 Ruby関西 勉強会">第71回 Ruby関西 勉強会</a>
に参加しました。</p>

<!--more-->


<p>以下、そのメモです。</p>

<h2>オープニング</h2>

<ul>
<li>開場が 10 分前にしかできなくて準備の時間の都合で受付は休憩の時に</li>
<li>会場説明</li>
<li>yasulab さんの資料作成の都合で順番を入れ替えて開始</li>
</ul>


<h2>中級者向け: 楽速開発 on Rails by @ogomr (前半)</h2>

<ul>
<li><a href="https://speakerdeck.com/ogom/enjoy-agile-development">https://speakerdeck.com/ogom/enjoy-agile-development</a></li>
<li>前回のつじたさんのどんな gem を使っていますかという質問に対するアンサーセッションのような幹事でどんな gem を使って開発しているかという紹介</li>
<li>デミングサイクル</li>
<li>データベースのスキーマでデミングサイクル</li>
<li>rspec や spring や guard などの 8 個の gem</li>
<li>ridgepole gem というのは知らなかった</li>
<li>rails-erd gem も使っているらしい</li>
<li>guard shell で <code>db/migrate/*.rb</code> が変わったら処理をしている</li>
<li>seed 関係の gem 3 個 (<code>seedbank</code>, <code>seed_dump</code>, <code>seed-fu</code>)</li>
<li>seed 関係の guard shell 設定</li>
<li><code>seed_dump</code> gem は SQL ではなく rb ファイルに dump してくれる</li>
<li>rails console で試せるし seed ファイルにも再利用できる</li>
<li>guard を使っている人をきいてみたら会場には少なかった</li>
<li>rails で開発したことがある人は多かった</li>
<li><code>factory_girl</code> は 1/3 程度</li>
<li>デモの前に休憩</li>
</ul>


<h2>休憩</h2>

<ul>
<li>休憩の間に受付</li>
</ul>


<h2>中級者向け: 楽速開発 on Rails by @ogomr (後半)</h2>

<ul>
<li>質問</li>
<li>guard とは grunt のようなものなのかという質問</li>
<li>同じようなもの。時系列的には guard の方が古い</li>
<li>guard の実行時間は 1,2 秒ぐらい</li>
<li>デモ</li>
<li>普段はサブディスプレイを使っている</li>
<li><code>rails new</code> するところからライブコーディングによるデモ</li>
<li><code>rails-erd</code> を使っている人は少しいた</li>
<li><code>.erdconfig</code> ファイルで設定できる</li>
<li>Guardfile の書き換え</li>
<li>spring を使っているので bin/rspec を使うように書き換え</li>
<li>その他 rspec 関係の追加とか</li>
<li>factories も監視して rspec を動かしている</li>
<li>generators で不要なものを false に設定</li>
<li>scaffold で生成</li>
<li>pdf の変化で open コマンドを呼んでいるのでサブディスプレイに最新の状態が自動表示される</li>
<li>seed の guard shell 設定</li>
<li>seedbank を使って seed の設定</li>
<li>データベースのカラム追加のデモ</li>
</ul>


<h2>休憩</h2>

<ul>
<li>14:30-14:40</li>
<li>休憩時間中に yasulab さんから質問</li>
<li>rails で開発したことのない人もいる</li>
<li>ruby を使ったことない人はいないみたいだった</li>
<li>k-of.jp などのイベントなどの時にも配っている豆本をアナウンスしたら人気だった</li>
</ul>


<h2>初心者向け: Railsチュートリアルの変遷からみる今ドキのRails勉強法 by @yasulab</h2>

<ul>
<li>第2版から第3版の変更点を解説</li>
<li>Rails 活用事例と学習曲線</li>
<li>第2版 vs. 第3版</li>
<li>第3版では画像アップロードが増えている</li>
<li>第2版でよく見かけた例</li>
<li>セットアップ (第1章) で挫折</li>
<li>テストがうまく動かなくて挫折</li>
<li>近くにいないと問題解決しづらい</li>
<li>第2版から第3版での改善点</li>
<li>Cloud9 を使ってブラウザで開発 (OS非依存)</li>
<li>ログイン機構がモダンになっている</li>
<li>RSpec から minitest になって学習コストが低くなっている</li>
<li>ActionMailer を使ったメール送信を解説</li>
<li>マイクロポストに画像投稿機能が追加</li>
<li>他、独自バリデーションやメタプロの導入など</li>
<li>今どきの Rails 学習法</li>
<li><ol>
<li>学習の優先度付け</li>
</ol>
</li>
<li>第２版によくあった批判</li>
<li>テスト技術が学びたいわけじゃない</li>
<li>環境構築を学びたいわけじゃない</li>
<li><ol>
<li>まずは体験、あとで探求</li>
</ol>
</li>
<li><ol>
<li>クラウド IDE を最大限活用する</li>
</ol>
</li>
<li>第2版と第3版の違い</li>
<li>第1章における離脱率の激減</li>
<li>解説セミナーの平均点数上昇</li>
<li>ちょっと未来の話</li>
<li>「まずは」の裾野を広げて「あとで」の探求先の拡大</li>
<li>Learn Enough シリーズ (前提知識を 0 に)</li>
<li>everyday Rails</li>
<li>Rails ガイド</li>
</ul>


<h2>休憩</h2>

<ul>
<li>15:21-15:30</li>
<li>k-of.jp や書籍の紹介</li>
</ul>


<h2>Ruby 初級者向けレッスン 57回 ─── テスト駆動開発 by @higaki</h2>

<ul>
<li><a href="http://slide.rabbit-shocker.org/authors/kou/rubykaigi-2015/" title="The history of testing framework in Ruby">The history of testing framework in Ruby</a></li>
<li><a href="http://magazine.rubyist.net/?0021-Rspec">http://magazine.rubyist.net/?0021-Rspec</a></li>
<li><a href="http://magazine.rubyist.net/?0042-FromCucumberToTurnip">http://magazine.rubyist.net/?0042-FromCucumberToTurnip</a></li>
<li>レッスンでは test-unit gem を使用</li>
<li><a href="http://goyoki.hatenablog.com/entry/20120301/1330608789" title="xUnit Test PatternsのTest Doubleパターン(Mock、Stub、Fake、Dummy等の定義)">xUnit Test PatternsのTest Doubleパターン(Mock、Stub、Fake、Dummy等の定義)</a></li>
<li>kagemusha gem</li>
<li>mocha gem</li>
<li>rr gem</li>
<li>レッスンには出てこなかったが、参考として、他に時刻専用の gem として timecop gem とか delorean gem とかもある</li>
<li><a href="https://github.com/higaki/learn_ruby_kansai_71">https://github.com/higaki/learn_ruby_kansai_71</a></li>
<li>参考: <a href="http://goyoki.hatenablog.com/entry/20110202/1296663870" title="XP祭り関西にてユニットテストの保守に関する発表">XP祭り関西にてユニットテストの保守に関する発表</a></li>
</ul>


<h2>クロージング</h2>

<ul>
<li><a href="https://ja-jp.facebook.com/RubyKansai">https://ja-jp.facebook.com/RubyKansai</a></li>
<li><a href="https://ruby-maizuru.doorkeeper.jp/" title="Ruby舞鶴">Ruby舞鶴</a></li>
<li><a href="https://dddrb.doorkeeper.jp/" title="DDD.rb">DDD.rb</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[第70回 Ruby関西 勉強会で発表しました]]></title>
    <link href="http://blog.n-z.jp/blog/2016-01-09-rubykansai70.html"/>
    <updated>2016-01-09T14:01:12+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubykansai70</id>
    <content type="html"><![CDATA[<p><a href="https://rubykansai.doorkeeper.jp/events/36351" title="第70回 Ruby関西 勉強会">第70回 Ruby関西 勉強会</a>
で発表してきました。</p>

<!--more-->


<p>以下、そのメモです。</p>

<h2>Ruby 2.3.0 の新機能について</h2>

<p>この内容で発表しました。</p>

<iframe src="http://slide.rabbit-shocker.org/authors/znz/rubykansai70-ruby230/viewer.html"
        width="640" height="524"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        scrolling="no"
        style="border: 1px solid #ccc; border-width: 1px 1px 0; margin-bottom: 5px"
        allowfullscreen> </iframe>


<div style="margin-bottom: 5px">
  <a href="http://slide.rabbit-shocker.org/authors/znz/rubykansai70-ruby230/" title="Ruby 2.3.0 の新機能について">Ruby 2.3.0 の新機能について</a>
</div>


<h2>10 分休憩</h2>

<h2>gems on Rails</h2>

<ul>
<li>What is a gem?</li>
<li>gem を探す</li>
<li><a href="https://rubygems.org/">https://rubygems.org/</a></li>
<li><a href="https://www.ruby-toolbox.com/">https://www.ruby-toolbox.com/</a></li>
<li>gem を選ぶ</li>
<li>ダウンロード数とか</li>
<li>コードの相性</li>
<li>作者やロゴも基準にしている</li>
<li>gem を使う</li>
<li>Github の README, Wiki を読む、から始まる</li>
<li>個人的に良く使う gems on Rails</li>
<li>認証・権限周辺 : devise, cancancan, pundit</li>
<li>入出力ドキュメント : prawn, pdfkit, rubyzip, axlsx, docx_templater</li>
<li>(docx_templater は知らなかった)</li>
<li>その他 : kaminari, carrierwave, rails-assets, whenever, simplecov</li>
<li>みなさんのお気に入りの gems</li>
<li>有名な rails 製アプリ (GitLab とか) の Gemfile を参考にする</li>
<li><a href="https://github.com/gitlabhq/gitlabhq/blob/master/Gemfile">https://github.com/gitlabhq/gitlabhq/blob/master/Gemfile</a></li>
<li><a href="http://awesome-ruby.com/">http://awesome-ruby.com/</a></li>
<li><a href="http://www.thinreports.org/">http://www.thinreports.org/</a></li>
</ul>


<h2>10 分休憩</h2>

<h2>Rails Engine のすすめ</h2>

<ul>
<li>Engine の例 : turbolinks, devise</li>
<li>サービス指向: Rails</li>
<li>コンポーネント指向 : Rails Engine, React and Redux</li>
<li>オブジェクト指向 : Ruby</li>
<li>デモ</li>
<li><code>mount なんとか::Engine =&gt; "/api"</code> みたいにして使う</li>
<li>Engine のメリット・デメリット</li>
<li>たとえば <code>/api</code> を <code>/v1/api</code> にするのも <code>mount</code> のところを変えるだけ</li>
<li>Rails 5.0 ではデフォルトでは <code>jbuilder</code> は使わなくなって <code>render json: @products</code> で <code>to_json</code> を呼び出すだけになっている。</li>
<li>React Redux のクライアントは Electron でネイティブにも対応できる</li>
<li>サンプルアプリは <a href="https://github.com/dddrb/bouquet">https://github.com/dddrb/bouquet</a></li>
</ul>


<h2>5 分ぐらい休憩</h2>

<h2>Ruby 初級者向けレッスン (ブロック)</h2>

<ul>
<li><a href="https://github.com/higaki/learn_ruby_kansai_70">https://github.com/higaki/learn_ruby_kansai_70</a></li>
</ul>


<h2>クロージング</h2>

<ul>
<li><a href="https://rubyassociation.doorkeeper.jp/events/35687" title="[大阪] Rubyビジネスセミナー loTのエコシステムとワークライフバランス">大阪 Rubyビジネスセミナー loTのエコシステムとワークライフバランス</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gem install rabbit に失敗したのを解決した]]></title>
    <link href="http://blog.n-z.jp/blog/2015-12-28-gem-install-rabbit.html"/>
    <updated>2015-12-28T18:48:40+09:00</updated>
    <id>http://blog.n-z.jp/blog/gem-install-rabbit</id>
    <content type="html"><![CDATA[<p>Mac OS X 上で <code>gem install rabbit</code> でひっかかったので、その解決方法のメモです。</p>

<!--more-->


<h2>gobject-introspection</h2>

<p><a href="http://www.cozmixng.org/~w3ml/index.rb/rabbit-shocker/msg/1283">http://www.cozmixng.org/~w3ml/index.rb/rabbit-shocker/msg/1283</a>
( <a href="https://gist.github.com/znz/59ae1b8785a640916ce9">https://gist.github.com/znz/59ae1b8785a640916ce9</a> )
のようなエラーで gobject-introspection-3.0.7 のインストールで失敗したので、
ML で教えてもらったように
<code>PKG_CONFIG_PATH=/usr/local/opt/libffi/lib/pkgconfig gem install rabbit</code>
でインストールすると進むようになりました。</p>

<h2>poppler</h2>

<p>次に poppler gem (3.0.7) のエラーでひっかかったのですが ( <a href="http://www.cozmixng.org/~w3ml/index.rb/rabbit-shocker/msg/1285">http://www.cozmixng.org/~w3ml/index.rb/rabbit-shocker/msg/1285</a> )、
<a href="https://bugs.launchpad.net/poppler-python/+bug/1528489">https://bugs.launchpad.net/poppler-python/+bug/1528489</a> で同じエラーが python binding で報告されていて、原因は poppler-0.39.0 での変更ということだったので、
poppler-0.38.0 に戻すことにした。</p>

<p>まず homebrew のディレクトリに移動して <code>Formula/poppler.rb</code> のログをみて poppler 0.38.0 に戻せる commit hash を調べて checkout して、インストールし直して、 poppler は 0.38.0 で止めておきました。</p>

<pre><code>    cd /usr/local
    git log Library/Formula/poppler.rb
    git checkout 6f7b9d57b25451e811e8901c560d17abd7a464f9
    brew reinstall poppler
    git checkout master
    brew pin poppler
</code></pre>

<p>問題が解決したら <code>brew unpin poppler</code> でまた最新に戻せます。</p>

<p>ruby-gnome2 の方でも <a href="https://github.com/ruby-gnome2/ruby-gnome2/commit/3dda85661515d71101f1028dc7d68d4e53de45b1">https://github.com/ruby-gnome2/ruby-gnome2/commit/3dda85661515d71101f1028dc7d68d4e53de45b1</a> でなおっているので、
poppler gem の新しいバージョンがリリースされたら解決しそうです。</p>

<h2>成功</h2>

<p>poppler をダウングレードして <code>PKG_CONFIG_PATH=/usr/local/opt/libffi/lib/pkgconfig gem install rabbit</code> で rabbit のインストールは成功しました。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RubyKaigi 2015 の 3 日目に参加しました]]></title>
    <link href="http://blog.n-z.jp/blog/2015-12-13-rubykaigi-2015.html"/>
    <updated>2015-12-13T10:22:18+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubykaigi-2015</id>
    <content type="html"><![CDATA[<p><a href="http://rubykaigi.org/2015" title="RubyKaigi 2015">RubyKaigi 2015</a> の 3 日目に参加したので、そのメモです。</p>

<!--more-->


<h2>Ruby Committers vs the World</h2>

<ul>
<li>matz が本日は来ていないので、司会が個人的に matz に質問していた話</li>
<li>Soft Typing の進捗どうですか</li>
<li>近年 <code>RUBY_VERSION</code> の bump しかコミットがないですがどうですか</li>
<li>The commits of the Year (注目のコミット)</li>
<li>check incompatible libruby (r50412)[<a href="http://svn.ruby-lang.org/cgi-bin/viewvc.cgi?view=revision&amp;revision=50412">http://svn.ruby-lang.org/cgi-bin/viewvc.cgi?view=revision&amp;revision=50412</a>]</li>
<li>rvm がインストール済みの gem を引き連れて ruby のバージョンをあげる機能 (migrate) があるが、それが問題を引き起こすので shared library の gem を入れ直さないといけない</li>
<li>rdoc/rubygems backports (hsbt)</li>
<li>コミットログにダメ出し</li>
<li><code>explicit_bzero(3)</code> (kosaki)</li>
<li>何かあった時に情報を盗みにくくするためのゼロクリアが最適化で消されることがある</li>
<li>最適化で消されないゼロクリア</li>
<li>code size diet (normal)</li>
<li>自分で普通という人は普通じゃない</li>
<li>optimization of <code>newobj_of()</code> (Kazuho Oku さん) <a href="http://svn.ruby-lang.org/cgi-bin/viewvc.cgi?view=revision&amp;revision=52072">r52072</a></li>
<li>frozen string literal の件で炎上した影響</li>
<li><a href="http://blog.kazuhooku.com/2015/10/ruby.html" title="雑なツイートをしてしまったばかりにrubyを高速化するはめになった俺たちは！ ">雑なツイートをしてしまったばかりにrubyを高速化するはめになった俺たちは！ </a></li>
<li><a href="https://twitter.com/kazuho/status/675858887803727872">https://twitter.com/kazuho/status/675858887803727872</a></li>
<li>The new committers</li>
<li>odaira さん</li>
<li>AIX, z/Linux など IBM 関連</li>
<li>sho-h さん</li>
<li>rdoc とるりまの質を高めたい</li>
<li>gogotanaka さん</li>
<li>cmath.rb のメンテナ</li>
<li>yuki24 さん</li>
<li><code>did_you_mean</code> gem</li>
<li>sonots さん</li>
<li>logger のメンテナを nahi さんから引き継いだ</li>
<li>yui-knk さん</li>
<li>Rails のテストで壊れた時に trunk での変更が原因だったら、足りないテストを足したり直したり</li>
<li>AMA (Ask Me Anything)</li>
<li><a href="https://twitter.com/Re_Shia/status/675837047525871616">rubyにコントリビュートしたいと思う人に勉強しておくといいよ、と思うものを一つだけあげるとしたら何でしょうか！</a></li>
<li>hsbt さんの発表資料を見る</li>
<li>akr さんの本を参考にする <iframe src="http://rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;bc1=000000&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=0000FF&amp;t=znz-22&amp;o=9&amp;p=8&amp;l=as4&amp;m=amazon&amp;f=ifr&amp;ref=ss_til&amp;asins=4774178020" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe></li>
<li><a href="https://twitter.com/frsyuki/status/675845609492889600">Python使えって言われるんですがどうしたらいいですか？</a></li>
<li><a href="https://twitter.com/yancya/status/675845804599324675">今後、数値計算分野で Python を食える日が来るでしょうか</a></li>
<li>Python を使って欲しいものを Ruby に持ってくる活動を続けていく</li>
<li><a href="https://twitter.com/tagomoris/status/675848535019917314">Matz以外のコミッタが並行・並列性の提供にどう考えているか聞きたいです!</a></li>
<li><a href="http://togetter.com/li/912075" title="怒り駆動開発に炎上駆動開発！コミッターが語るRubyの1年と未来。Ruby Committers vs the World #rubykaigi #rubykaigiA - Togetterまとめ">怒り駆動開発に炎上駆動開発！コミッターが語るRubyの1年と未来。Ruby Committers vs the World #rubykaigi #rubykaigiA - Togetterまとめ</a></li>
</ul>


<h2>Writing web application in Ruby</h2>

<ul>
<li>Ubiregi</li>
<li>React.js</li>
<li>gohra <a href="https://github.com/youchan/gohra">https://github.com/youchan/gohra</a></li>
<li>Hyalite <a href="https://github.com/youchan/hyalite">https://github.com/youchan/hyalite</a></li>
<li>Opal</li>
<li>Symbol がなくて String と同じ扱い</li>
<li><code>Kernel#proc</code> の引数なしが使えないので、引数リストに <code>&amp;block</code> をつけて受け取る必要がある</li>
<li>それ以外は Ruby として問題なくかけた</li>
<li>React.js と Virtual DOM</li>
<li>opal-browser</li>
<li>JSX
-<code>Hyalite::Component::ShortHand</code></li>
<li>Example: TodoMVC</li>
<li>このスライド自体も Hyalite のサンプル (twitter ではここまで rabbit だと思っていた人が多数)</li>
<li>TodoMVC の例の説明</li>
<li>Ruby-ish implementation</li>
<li>isomorphic</li>
<li>スライド: <a href="http://rubykaigi.youchan.org/">http://rubykaigi.youchan.org/</a></li>
<li><a href="http://togetter.com/li/912112" title="RubyでWebアプリ!? ReactjsぽいことができるHyaliteを使えばMatzが追いかけてくるスライドもすぐ作れるよ #rubykaigi #rubykaigiB - Togetterまとめ">RubyでWebアプリ!? ReactjsぽいことができるHyaliteを使えばMatzが追いかけてくるスライドもすぐ作れるよ #rubykaigi #rubykaigiB - Togetterまとめ</a></li>
</ul>


<h2>Lunch on your own</h2>

<p>今日も築地の方に行っていました。</p>

<h2>Refinements - the Worst Feature You Ever Loved</h2>

<ul>
<li>monkey patch の例</li>
<li>refinements の例</li>
<li>module の中で</li>
<li>top level で</li>
<li>eval の中で</li>
<li>security risks</li>
<li>performance issues</li>
<li>confusing corner case</li>
<li>dynamically scoped refinements の利点と欠点</li>
<li>refinements today</li>
<li>現状は lexical scope</li>
<li>the three use cases again</li>
<li>refinements today の欠点と利点</li>
<li>a deep problem</li>
<li><a href="http://togetter.com/li/912136" title="Ruby2.0で導入されたRefinementsという機能のメリットとリスクについて #rubykaigi #rubykaigiB - Togetterまとめ">Ruby2.0で導入されたRefinementsという機能のメリットとリスクについて #rubykaigi #rubykaigiB - Togetterまとめ</a></li>
</ul>


<h2>Discussion on Thread between version 1.8.6 and 2.2.3</h2>

<ul>
<li><a href="https://asakusarb.doorkeeper.jp/events/36106" title="Asakusa.rb meetup after RubyKaigi 2015">Asakusa.rb meetup after RubyKaigi 2015</a></li>
<li><a href="https://jishin.net/">https://jishin.net/</a></li>
<li>100スレッド*100プロセス</li>
<li><code>Thread#status</code></li>
<li>Cases of threads got stuck</li>
<li>Case 1</li>
<li>2.2.3 の方が CPU usage は増えていた</li>
<li>実行回数は変わっていなかった</li>
<li>Case 2</li>
<li>例外のメモリ使用量は 2.2.3 で減っていた</li>
<li>timeout で例外処理があると Case 1 よりメモリ使用量が多い</li>
<li>conclusion: (thread is) too complicated to understand</li>
<li>質疑応答</li>
<li>マルチスレッドは IO 多重化などを想定していて、処理が回っているものを多重化しているものはあまり想定していなかったという話など</li>
<li><a href="http://togetter.com/li/912153" title="スレッドをいっぱい立ててみた時のお話。10000スレッドでRubyはどうなるか？ #rubykaigi #rubykaigiB - Togetterまとめ">スレッドをいっぱい立ててみた時のお話。10000スレッドでRubyはどうなるか？ #rubykaigi #rubykaigiB - Togetterまとめ</a></li>
</ul>


<h2>Plugin-based software design with Ruby and RubyGems</h2>

<ul>
<li>plugin の例として Firefox Add-on など</li>
<li>How did I design plugin architecture?</li>
<li>Plugin Architecture Design Patterns</li>
<li>traditional</li>
<li>Dependency Injection</li>
<li>Dependency Injection + Plugin loader</li>
<li>Plugin Architecture of Fluentd</li>
<li>Plugin Architecture of Embulk</li>
<li>embulk の demo</li>
<li>embulk-filter-kuromoji</li>
<li>jar ファイルの頭にシェルスクリプトと bat ファイルを埋め込む話</li>
<li>Pitfalls &amp; Challenges</li>
<li><a href="http://togetter.com/li/912157" title="プラグインベースのソフトウェアとは？開発とテストを容易にするデザインパターン #rubykaigi #rubykaigiA - Togetterまとめ">プラグインベースのソフトウェアとは？開発とテストを容易にするデザインパターン #rubykaigi #rubykaigiA - Togetterまとめ</a></li>
</ul>


<h2>Afternoon Break</h2>

<p>スピーカーやコミッターのサインを集めているボードに書いてきました。
Keynote が A ホールのみなので、この後はずっと A ホールにいることにしました。</p>

<h2>Request and Response</h2>

<ul>
<li>HTTP2</li>
<li>利点</li>
<li>バイナリ</li>
<li>多重化</li>
<li>ヘッダーを圧縮</li>
<li>SSL 使用</li>
<li>サーバープッシュ</li>
<li>Google Chrome だと chrome://net-internals/#spdy で確認できる</li>
<li>Firefox は x-firefox-spdy ヘッダが付いている</li>
<li>Rack</li>
<li>Adapter pattern で依存の爆発を解決した</li>
<li>Rack Middleware</li>
<li>Rails アプリでの例</li>
<li>Web Server parses the Request</li>
<li><code>Rails::Application</code> を継承した YourApp</li>
<li><code>Rack::SendFile</code>, <code>ActionDispatch::Static</code>, &hellip;, <code>Router</code></li>
<li>Rack 山</li>
<li>長すぎるし複雑</li>
<li>Rack API の問題</li>
<li>ストリーム</li>
<li>HTTP2 のサーバーの例</li>
<li>質疑応答</li>
<li><a href="https://github.com/tenderlove/ds9">https://github.com/tenderlove/ds9</a> はなぜ ds9 という名前なのか</li>
<li>スタートレック</li>
<li>nghttp2 の ng は next generation</li>
<li>(スタートレックをよく知らないのでよくわからず)</li>
<li>どのくらい発表練習した?</li>
<li>翻訳 2 週間、練習 5 時間</li>
<li>サーバープッシュの設定はどこに?</li>
<li>view helper で自動</li>
<li>ソースコードを読んだら IPv6 に対応していないように見えたが IPv6 対応の方針は? <a href="https://twitter.com/takano32/status/675942535211171841">https://twitter.com/takano32/status/675942535211171841</a></li>
<li>わからない</li>
<li>パッチを送ってください</li>
<li>Rack 3 はたぶん API が変わる</li>
</ul>


<h2>Actor, Thread and me</h2>

<ul>
<li>アーロンの後はやりにくい <a href="https://twitter.com/m_seki/status/675938103735902209">https://twitter.com/m_seki/status/675938103735902209</a></li>
<li>dRuby 本 10 周年</li>
<li>agenda の Really? が重要</li>
<li>アクターモデル</li>
<li>Ether (エーテル) : メッセージを伝搬する何か</li>
<li>Send と Receive だけで考える</li>
<li><code>oso_matz_RPC</code></li>
<li><code>choro_matz</code></li>
<li>後でやる作戦は誰も止まっていないのにシステムが止まってしまうことがある</li>
<li><code>jushi_matz</code></li>
<li>おすすめ</li>
<li>システム全体はアクターモデルで考える</li>
<li>アクターはマルチスレッドで動く</li>
<li>Fiber を使ってみるために bartender というのを作った <a href="https://github.com/seki/bartender">https://github.com/seki/bartender</a></li>
<li>全員が Queue を持っているというのを書いてみた</li>
<li>使い道がなかった</li>
<li>中央集権型 <code>Rinda::TupleSpace</code> を使う</li>
<li><code>todo_matz</code></li>
<li>アクターはより良いスレッドではない感が共有できたはず</li>
<li>スポンサーが大事</li>
<li>質疑応答</li>
<li>スレッドの今後について</li>
<li>現状で満足している</li>
<li>1.8 の方が良かった</li>
<li>上司に 3 倍速くしろといわれてるんですが</li>
<li>IO 待ちばっかりなら今のスレッドで良いのではないか</li>
<li>unicorn (プロセス) から puma (マルチスレッド) に変更したが、リソース的にも速度的にも改善しなかった</li>
<li>Fiber の使った例のところでもっと良い書き方があるという話</li>
</ul>


<h2>スポンサーセッション (Speee)</h2>

<ul>
<li>意外と知っている人が多い</li>
<li>いろんなことをやっているので紹介するのは難しい</li>
<li>IT 企業対抗 Splatoon 大会</li>
<li>Speee ラウンジ</li>
</ul>


<h2>Ruby: 2020 - how do we get to Ruby3x3 (Keynote)</h2>

<ul>
<li>CRuby には JIT が必要</li>
<li>Part 1: Performance</li>
<li>Parallelism</li>
<li>Part 2. Survey of the past</li>
<li>2a. SELF <a href="https://ja.wikipedia.org/wiki/Self">https://ja.wikipedia.org/wiki/Self</a></li>
<li>2b. Strongtalk <a href="https://en.wikipedia.org/wiki/Strongtalk">https://en.wikipedia.org/wiki/Strongtalk</a></li>
<li>2c. V8</li>
<li>JIT Compiler Types</li>
<li>Tracing JITs</li>
<li>Method JITs</li>
<li>Partial Evaluation</li>
<li>Part 4: Comparison</li>
<li>Part 5: A Proposal</li>
<li><code>[1,2].min</code> を最適化する話</li>
<li>MIPASWAP = Matz is Pragmatic And So We Are Pragmatic ((スライドでは And が抜けていたらしい)[<a href="https://twitter.com/s_osa_/status/675967202814779392">https://twitter.com/s_osa_/status/675967202814779392</a>])</li>
<li>質疑応答</li>
</ul>


<h2>Closing</h2>

<ul>
<li>819 Rubyists! <a href="https://twitter.com/nhance/status/675971298816823296">https://twitter.com/nhance/status/675971298816823296</a></li>
<li>すし詰め <a href="https://twitter.com/yoshiaki_0614/status/675974594025648128">https://twitter.com/yoshiaki_0614/status/675974594025648128</a></li>
<li>RubyKaigi 2016</li>
<li>Sep. 8th .. 10th</li>
<li>京都国際会館</li>
<li>価格は未定だが今年よりは安くしたい</li>
</ul>


<h2>全体の感想</h2>

<ul>
<li>英語がさっぱりだった。</li>
<li>1 日目の寿司チケットを使い損ねた。</li>
<li>本を買うかどうか迷っていたら、買いたかった本はすでに売り切れていて、買わずに済んだ。(荷物が重くならずに済んだ。)</li>
<li>2 日目の会場 Wi-Fi の調子が悪かった。</li>
<li>3 日目も調子が悪いタイミングがあったが、何度かつなぎ直していたら治った。</li>
<li><a href="http://blog.rubykaigi.org/">http://blog.rubykaigi.org/</a> が更新されていなかった。</li>
<li>天気が微妙だった。</li>
<li>久しぶりの人にいろいろ会えた。</li>
<li>みられなかった発表は <a href="http://togetter.com/id/tg__dev">http://togetter.com/id/tg__dev</a> の togetter を参考にスライドを読むと良さそう。</li>
<li>宿が歩いて移動できる範囲で良かった。(会場まで徒歩 20 分ぐらいの場所だった。)</li>
<li>ちょっと遅れ気味の日もあったけど、セッションの開始には遅刻せずに毎日朝から参加できた。</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RubyKaigi 2015 の 2 日目に参加しました]]></title>
    <link href="http://blog.n-z.jp/blog/2015-12-12-rubykaigi-2015.html"/>
    <updated>2015-12-12T09:46:59+09:00</updated>
    <id>http://blog.n-z.jp/blog/rubykaigi-2015</id>
    <content type="html"><![CDATA[<p><a href="http://rubykaigi.org/2015" title="RubyKaigi 2015">RubyKaigi 2015</a> の 2 日目に参加したので、そのメモです。</p>

<!--more-->


<h2>スポンサーセッション (Cookpad)</h2>

<h2>Keynote</h2>

<ul>
<li><a href="http://rubykaigi.org/2015/presentations/kosaki" title="Keynote - RubyKaigi 2015">Keynote - RubyKaigi 2015</a></li>
<li>小崎さんの Keynote</li>
<li>Linuxport maintainer</li>
<li><a href="https://bugs.ruby-lang.org/issues/3543" title="Bug #3543">Bug #3543</a> など</li>
<li>Patch for open source is like a Tetris</li>
<li>The Debugging Big 3</li>
<li>Ftrace</li>
<li>Perf tools</li>
<li>SystemTap</li>
<li><a href="https://twitter.com/t_wada/status/675484076191666176">https://twitter.com/t_wada/status/675484076191666176</a></li>
<li>発表資料を作っているとバグが見つかる話</li>
<li>probe 一覧はソースの <a href="https://github.com/ruby/ruby/blob/trunk/probes.d">probes.d</a> に書いてある</li>
<li><a href="http://togetter.com/li/911612" title="テトリス・デバッガ・奇妙なバグ！ LinuxカーネルとRubyコミュニティを行き交う小崎資広による #rubykaigi 2015 2日目Keynote - Togetterまとめ">テトリス・デバッガ・奇妙なバグ！ LinuxカーネルとRubyコミュニティを行き交う小崎資広による #rubykaigi 2015 2日目Keynote - Togetterまとめ</a></li>
</ul>


<h2>The history of testing framework in Ruby</h2>

<ul>
<li>テスティングフレームワークの歴史</li>
<li><code>/\Atest.+unit\z/i</code> が標準添付されたのは Ruby 1.8 から</li>
<li><code>/\Atest.+unit\z/i</code> とは <code>Test::Unit</code> 互換 API が重要</li>
<li>テストのグループ化</li>
<li>テストの共有</li>
<li>failure 時の表示の違い</li>
<li>assert の書き方の違い</li>
<li>質疑応答</li>
<li><code>yield</code> 付きの <code>setup</code> について</li>
<li><a href="http://slide.rabbit-shocker.org/authors/kou/rubykaigi-2015/">http://slide.rabbit-shocker.org/authors/kou/rubykaigi-2015/</a></li>
</ul>


<h2>Running Ruby on Solaris</h2>

<ul>
<li>自己紹介</li>
<li>BioRuby</li>
<li>Solaris とは</li>
<li>古いバイナリがそのまま動くというデモ</li>
<li>SPARC</li>
<li>Big-endian</li>
<li>Solaris</li>
<li>ビルドに必要なツールの話</li>
<li>PATH が重要 (make がたくさんとか)</li>
<li>コンパイラもいろいろ</li>
<li>いろんな標準に準拠している</li>
<li>64 ビット OS になってもコンパイラのデフォルトは 32 ビットのまま</li>
<li>ライブラリの話</li>
<li><code>make V=1</code> でコンパイルオプションなども表示</li>
<li>バグ報告の話</li>
<li>ファイル名衝突の例: <a href="https://bugs.ruby-lang.org/issues/7287" title="Bug #7287">Bug #7287</a></li>
<li>word alignment のバグの例: <a href="https://bugs.ruby-lang.org/issues/5469" title="Bug #5469">Bug #5469</a></li>
<li><a href="https://bugs.ruby-lang.org/issues/10646" title="Bug #10646">Bug #10646</a></li>
<li><a href="https://bugs.ruby-lang.org/issues/11277" title="Bug #11277">Bug #11277</a></li>
<li>などなど</li>
<li><a href="http://www.slideshare.net/ngotogenome/running-ruby-on-solaris-rubykaigi-2015-12dec2015-56073698">http://www.slideshare.net/ngotogenome/running-ruby-on-solaris-rubykaigi-2015-12dec2015-56073698</a></li>
<li><a href="http://togetter.com/li/911651" title="「Solaris上で動くRuby 1.2…」SolarisでRubyを動かすヒント #rubykaigi 2015 #rubykaigiB - Togetterまとめ">「Solaris上で動くRuby 1.2…」SolarisでRubyを動かすヒント #rubykaigi 2015 #rubykaigiB - Togetterまとめ</a></li>
</ul>


<h2>Lunch on your own</h2>

<p>また築地の方に行って、今度は間に合うように戻ってこれました。</p>

<h2>Data Analytics Service Company and Its Ruby Usage</h2>

<ul>
<li>英語で自己紹介</li>
<li><a href="https://www.treasuredata.com/">https://www.treasuredata.com/</a></li>
<li>fluentd</li>
<li>embulk</li>
<li>ステッカーが人気</li>
<li>Ruby や Java を使っているらしい</li>
<li>OSS 重視</li>
<li><a href="https://github.com/treasure-data/perfectsched">https://github.com/treasure-data/perfectsched</a></li>
<li>At-least-once semantics</li>
<li><a href="https://github.com/treasure-data/perfectqueue">https://github.com/treasure-data/perfectqueue</a></li>
<li>Done is better than perfect.</li>
<li><code>&lt;&lt;~</code> があるので Ruby 2.3 が使いたい話</li>
<li>質疑応答</li>
<li>PerfectQueue でスループットが問題になった時にどうするのかという質問</li>
</ul>


<h2>Ruby for one day game programming camp for beginners</h2>

<ul>
<li>自己紹介</li>
<li>KMC の紹介</li>
<li>programming camp の紹介</li>
<li>未経験から 8,9 割が動くものを作れる</li>
<li>続けてゲームを作ろうとする人はだいたい Unity か C#</li>
<li>重力は難しい</li>
<li>シューティングゲームが簡単</li>
</ul>


<h2>Ruby meets Go</h2>

<ul>
<li>cgo</li>
<li>ruby から C の関数を呼び出すには ffi gem を使う方法と標準添付の fiddle を使う方法がある</li>
<li><a href="https://speakerdeck.com/naruse/writing-extension-libraries-in-go">https://speakerdeck.com/naruse/writing-extension-libraries-in-go</a></li>
<li>マクロや wrapper 関数の話</li>
<li>文字列のコピーが発生するのを避ける話</li>
<li><a href="http://qiita.com/mattn/items/176459728ff4f854b165">http://qiita.com/mattn/items/176459728ff4f854b165</a></li>
<li>Ruby での参照を Go にも反映させて GC されないようにする話</li>
<li>Go のコードを含む gem を生成する方法</li>
<li>拡張ライブラリの例 : <a href="https://github.com/mmasaki/memberlist">https://github.com/mmasaki/memberlist</a></li>
<li>質疑応答</li>
<li>extconf.rb のハックを mkmf に入れる気はないのかという話</li>
<li>bundler の雛形生成での対応を考えている</li>
<li><a href="http://www.slideshare.net/td-nttcom/ruby-meets-go">http://www.slideshare.net/td-nttcom/ruby-meets-go</a></li>
</ul>


<h2>Rhebok, High Performance Rack Handler</h2>

<ul>
<li>Mercari</li>
<li>unicorn より速い Rhebok</li>
<li>Perl の Gazelle の Ruby 版</li>
<li>Gazelle や Rhebok はツノが 2 本の動物</li>
<li>unicorn が 1 本だから</li>
<li>WebSocket や Streaming には向かない</li>
<li>reverse proxy なしで直接公開にも向かない</li>
<li>専用コマンドはないので <code>rackup -s Rhebok ...</code> で起動</li>
<li>Hot Deploy</li>
<li><code>start_server</code> コマンドを wrapper として使う</li>
<li>Benchmark</li>
<li>ISUCON 4 の問題でもベンチマークしても unicorn より速い</li>
<li>rack の説明</li>
<li>Rack Handler の簡易実装</li>
<li>その問題点と解決方法</li>
<li><a href="https://github.com/kazeburo/prefork_engine">https://github.com/kazeburo/prefork_engine</a></li>
<li>IO timeout</li>
<li>unicorn はタイムアウトで SIGKILL している (乱暴)</li>
<li>Parse HTTP request</li>
<li><code>PicoHTTPParser</code> を使った</li>
<li>TCP optimization</li>
<li><code>TCP_NODELAY</code> disable it</li>
<li>Nagle&rsquo;s algorithm</li>
<li><code>writev(2)</code></li>
<li><a href="http://www.slideshare.net/kazeburo/rhebok-high-performance-rack-handker-rubykaigi-2015">http://www.slideshare.net/kazeburo/rhebok-high-performance-rack-handker-rubykaigi-2015</a></li>
</ul>


<h2>Pragmatic Testing of Ruby Core</h2>

<ul>
<li>自己紹介</li>
<li>GMO Pepabo の紹介</li>
<li><a href="https://github.com/yaocloud">https://github.com/yaocloud</a></li>
<li>ruby 2.3.0-preview がビルドできない問題の原因が判明したという業務連絡</li>
<li>オープンソースへの貢献の話</li>
<li>Documentation is hard</li>
<li>Testing and Running are easy</li>
<li>テスト実行の tips</li>
<li>.travis.yml を見る</li>
<li>ruby の場合は .travis.yml が複雑なので簡易な手順を紹介</li>
<li>test 関係のターゲットが common.mk にいろいろ</li>
<li><code>sample/test.rb</code></li>
<li><code>make btest-ruby</code></li>
<li><code>bootstraptest/</code> を実行</li>
<li><code>make test-all</code></li>
<li><code>test/</code> を実行</li>
<li><code>make test-all TESTS=logger</code></li>
<li><code>make test-all TESTS=-j4</code></li>
<li><code>test/-ext-/</code> は <code>ext/-test-/</code> を使って C API をテストしている</li>
<li><code>make check</code> はだいたい全部を実行するもの</li>
<li><code>test-testframework</code> は fork した minitest + test/unit をテストしている</li>
<li>rubygems と rdoc は upstream がある</li>
<li>rubygems と rdoc はまだ Ruby 1.8 をサポートしている</li>
<li><code>test/lib/envutil.rb</code></li>
<li>rubyspec</li>
<li><a href="http://rubini.us/2014/12/31/matz-s-ruby-developers-don-t-use-rubyspec/">http://rubini.us/2014/12/31/matz-s-ruby-developers-don-t-use-rubyspec/</a></li>
<li>rubyspec は仕様ではない</li>
<li><code>make update-rubyspec</code></li>
<li><code>make test-rubyspec</code></li>
<li><a href="https://github.com/ruby/rubyspec">https://github.com/ruby/rubyspec</a> で生きている</li>
<li>rubyci and chkbuild</li>
<li><a href="http://rubyci.org/">http://rubyci.org/</a></li>
<li><a href="https://github.com/akr/chkbuild">https://github.com/akr/chkbuild</a></li>
<li><code>make run</code></li>
<li><code>make bisect</code></li>
<li>coverage</li>
</ul>


<h2>スポンサーセッション (pixiv)</h2>

<h2>Lightning Talks</h2>

<ul>
<li>Dora Brain</li>
</ul>


<h3>Update Early, Update Often</h3>

<ul>
<li>deppbot</li>
<li><code>bundle lock --update</code></li>
</ul>


<h2>Automating View Internationalization in Ruby on Rails</h2>

<ul>
<li><code>h</code> が自動化されたように <code>t</code> や <code>l</code> も自動化した話</li>
<li><code>.new</code> のような例がうまくいかない</li>
<li>gem はまだ公開されていない</li>
</ul>


<h2>A new testing framework Rgot</h2>

<ul>
<li>Ruby + Golang Testing</li>
<li>Diversity</li>
<li><a href="https://github.com/ksss/rgot">https://github.com/ksss/rgot</a></li>
</ul>


<h2>Building an Unbreakable MRI-based Embedded Computer Appliance</h2>

<ul>
<li>3Bees</li>
<li>Make filesystem read-only</li>
<li>JeOS</li>
</ul>


<h2>Do you trust that certificate?</h2>

<ul>
<li>Web アプリが外部サイトにアクセスする時の話</li>
<li>ルート CA の更新の話</li>
</ul>


<h2>How I debugged debugger</h2>

<ul>
<li>byebug のパフォーマンスバグを修正した話</li>
<li><a href="http://techlife.cookpad.com/entry/2015/12/09/163746" title="gdbを使ったrubyのデバッグ">gdbを使ったrubyのデバッグ</a></li>
</ul>


<h2>Padrino Travel Guide</h2>

<ul>
<li>Padrino の 2 つの見方</li>
<li>full-stack Web Application Framework</li>
<li>Sinatra Plugin</li>
<li>使用例</li>
<li>dwango.jp</li>
<li>animelo mix</li>
<li>ssnote.net</li>
</ul>


<h2>What I learned by implementing a Ruby VM in Erlang</h2>

<ul>
<li>concurrent</li>
<li><a href="https://github.com/johnlinvc/erruby">https://github.com/johnlinvc/erruby</a></li>
</ul>


<h2>Rubygemsで作るお手軽データ分析基盤 〜あるいは 私はどうやって他人の褌で相撲を取ったか〜</h2>

<ul>
<li><a href="https://github.com/esminc/adhoq">https://github.com/esminc/adhoq</a></li>
<li>pull request を送る時に気をつけるべきこと</li>
<li><a href="https://github.com/aamine/activerecord4-redshift-adapter">https://github.com/aamine/activerecord4-redshift-adapter</a></li>
<li><a href="https://github.com/aamine/bricolage">https://github.com/aamine/bricolage</a></li>
</ul>


<h2>Rationalを最適化してみた</h2>

<ul>
<li>How to optimize Rational</li>
<li>Let&rsquo;s read CRuby source code more!</li>
<li><a href="https://github.com/tadd/ruby/commits/ragrant2015development">https://github.com/tadd/ruby/commits/ragrant2015development</a></li>
</ul>


<h2>The Mythical Creatures of Summer of Code</h2>

<ul>
<li>Rails Girls Summer of Code など</li>
</ul>

]]></content>
  </entry>
  
</feed>
