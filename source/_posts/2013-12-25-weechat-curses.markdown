---
layout: post
title: "weechat-cursesでの罫線の文字幅問題を回避する"
date: 2013-12-25 23:00:00 +0900
comments: true
categories: weechat tty
---
サーバー上の端末の中で使える IRC クライアントとして
`weechat-curses` をちょっと試しているのですが、
`│` (U+2502 BOX DRAWINGS LIGHT VERTICAL)
で罫線文字の文字幅問題が発生してずれるという現象に困っていたので、
問題を回避する設定をしてみました。

<!--more-->

## 設定

`│` (U+2502) の代わりに `|` (U+007C VERTICAL LINE)
を使うだけなら、

```
/set weechat.look.separator_vertical "|"
```

でいけます。

## 問題の文字が使われている場所

weechat の画面で問題が起きている行は

```
時刻 nickなどのprefix 左の縦線(|) メッセージ 右の縦線(│) nick一覧
```

のようになっていて、最初は両方の縦線が問題になっているのかと
勘違いしていたのですが、実際には右側の方だけでした。

左側の縦線の部分の設定は `weechat.look.prefix_suffix` で、
右側は `weechat.look.separator_vertical` です。

左側の方はデフォルトで `"|"` になっていて、問題はありませんでした。

右側の方はデフォルトでは `""` (空文字列) になっていて、
その場合は ncurses で縦線を描画するという意味になって、
問題が起きていました。

たとえば `":"` などに設定を変えてみるとどっちがどっちなのか
よくわかると思います。

## まとめ

weechat を試していて、ずっと困っていた問題が解決できたので、
これからもうちょっと使ってみようと思えるようになりました。

Web で検索しても全く情報がみつからなかったのですが、
誰も困っていなかったのでしょうか。
英語圏だと困らなさそうですが、日本語圏でも使っている人はいそうなのに
情報がないのは他のコマンドも含めて対処していて困っていないからなのか、
気にせずずれるまま使っているからなのかが気になりました。
